{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "required": [ "characters" ],
    "properties": {
        "showPanel": {
            "type": "boolean",
            "title": "Show the right-side panel",
            "default": true
        },
        "maxPerTurn": {
            "type": "integer",
            "title": "Max portraits to show per bot message",
            "minimum": 1,
            "maximum": 12,
            "default": 3
        },
        "fallbackToAuthor": {
            "type": "boolean",
            "title": "Fallback to bot author if none detected",
            "default": false
        },
        "portraitSize": {
            "type": "integer",
            "title": "Portrait size (px)",
            "description": "Base width for each portrait.",
            "minimum": 120,
            "maximum": 1024,
            "default": 360
        },
        "tightGrid": {
            "type": "boolean",
            "title": "Keep portraits on one row (auto-shrink)",
            "description": "If off, portraits wrap instead of shrinking.",
            "default": true
        },
        "showBalance": {
            "type": "boolean",
            "title": "Show currency balance",
            "default": true
        },
        "currencyLabel": {
            "type": "string",
            "title": "Currency label",
            "default": "C"
        },
        "balanceRegex": {
            "type": "string",
            "title": "Balance detection regex",
            "default": "C\\s*([0-9][0-9,\\.]*)"
        },
        "characters": {
            "type": "array",
            "title": "Characters",
            "minItems": 1,
            "maxItems": 32,
            "items": {
                "type": "object",
                "required": [ "name", "imageUrl" ],
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Display name"
                    },
                    "aliases": {
                        "type": "array",
                        "title": "Aliases (optional)",
                        "items": { "type": "string" }
                    },
                    "imageUrl": {
                        "type": "string",
                        "format": "uri",
                        "title": "Direct image URL (HTTPS)"
                    },
                    "traits": {
                        "type": "array",
                        "title": "Traits (optional)",
                        "items": { "type": "string" }
                    }
                }
            }
        }
    }
}
